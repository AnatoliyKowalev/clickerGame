(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{403:function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return d})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return m})),n.d(t,"g",(function(){return y}));n(1);var r=n(76),a=n(17),c=(n(113),n(407),n(111),n(411),n(404));function o(e,t,n,r,a,c,o){try{var i=e[c](o),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}var i=function(e){return function(t){t({type:a.k,payload:e||!r.a.getState().players.formPlayersEditing})}},u=function(){return function(e){e({type:a.e,payload:{circle:++r.a.getState().players.gameSchema.circle}}),m()}},s=function(e){return function(t){t({type:a.h,payload:e})}},f=function(e){return function(t){var n=r.a.getState().players.gameSchema.players;n=n.map((function(t){return t.playerId===e?(t.bafs.forEach((function(e){switch(e.id){case 2:t.bafsObj.extraAtack+=2;break;case 3:t.bafsObj.extraPercent-=7;break;case 4:t.bafsObj.extraPercent+=5;break;case 6:t.bafsObj.extraAtack-=3;break;case 7:t.bafsObj.extraSpeed+=9;break;case 8:t.bafsObj.extraAtack-=3.5;break;case 9:t.bafsObj.extraPercent-=6;break;case 10:t.bafsObj.extraAtack+=2;break;case 11:t.bafsObj.extraPercent+=5;break;case 13:t.bafsObj.extraPercent-=13;break;case 14:t.bafsObj.extraAtack+=4;break;case 16:t.bafsObj.extraPercent+=10;break;case 18:t.bafsObj.extraAtack+=2.7;break;case 19:t.bafsObj.extraAtack+=3.2}})),t.bafs=[],t):t})),t({type:a.g,payload:e})}},l=function(e,t){return function(n){var c=r.a.getState().players.gameSchema.players;c=c.map((function(n){return n.playerId===e?(n.health-=t,n):n})),n({type:a.b,payload:c})}},p=function(e){return function(t){t({type:a.f,payload:e})}},d=function(e,t,n){return function(c){var o=r.a.getState().players.gameSchema.players;t.circle=n,o.map((function(n){return n.playerId===e?(n.gameHistory.unshift(t),n.bafsObj.extraAtack=0,n.bafsObj.extraPercent=0,n.bafsObj.extraSpeed=0,n):n})),c({type:a.l,payload:o}),c({type:a.d,payload:e})}},b=function(e,t){return function(n){var c=r.a.getState().players.gameSchema.players;c=c.map((function(n){return n.playerId===e?(n.bafs.unshift(t),n.bafs.forEach((function(e,t){switch(e.id){case 0:case 5:n.health+=1;break;case 12:n.health+=2;break;case 1:case 15:case 17:n.health-=1}})),n):n})),n({type:a.a,payload:c})}},m=function(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.getState().players.gameSchema.players;case 2:return n=e.sent,e.next=5,r.a.getState().players.gameSchema.diedPlayers;case 5:return o=e.sent,e.next=8,n.map((function(e){e.health<=0&&!o.includes(e.playerId)&&t({type:a.c,payload:e.playerId})}));case 8:return e.next=10,n.length;case 10:e.t0=e.sent,e.t1=r.a.getState().players.gameSchema.diedPlayers.length,(i=e.t0-e.t1)<=1&&Object(c.b)(i);case 14:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function i(e){o(c,r,a,i,u,"next",e)}function u(e){o(c,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(t){t({type:a.i,payload:e})}}},404:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return f}));var r=n(405),a=n(76),c=n(403);function o(e,t,n,r,a,c,o){try{var i=e[c](o),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}var i=[{id:0,kind:"health",name:"+ 1 HEALTH",icon:r.H},{id:1,kind:"health",name:"- 1 HEALTH",icon:r.I},{id:2,kind:"atack",name:"Тебя укусил паук, и ты стал человеком-пауком. Твоя получил +2 к силе!",icon:r.T},{id:3,kind:"percent",name:"Ты немного ослеп, и по этому сбился с пути, по этому путь который ты пройдешь увеличился на 7%.",icon:r.i},{id:4,kind:"percent",name:"Ух ты! Профессор с людей Х согласился тебе помочь и подбросил тебя ближе к выходу на 5%",icon:r.faAccessibleIcon},{id:5,kind:"health",name:"Мимо проезжала скорая, и подкинуло одно лишнее сердечко, теперь у тебя +1 сердце",icon:r.c},{id:6,kind:"atack",name:"Ты в баре выпил какую-то жижу и теперь тебе поплохело, твоя сила упала на 3",icon:r.b},{id:7,kind:"speed",name:"Следующий раз полоса дороги будет убывать так же медленно, как работает адроид, то-есть очень медленно",icon:r.Q},{id:8,kind:"atack",name:"Ты нарвался на злого деда, и он тебе надавал по коленям своим костылем, теперь ты медленно побежишь",icon:r.d},{id:9,kind:"percent",name:"На твоем пути появилась мамочка с коляской, тебе придется ее оббежать, это +6% к твоей дороге",icon:r.f},{id:10,kind:"atack",name:"Ты хорошо выспался и по этому сильнее, +2 к силе",icon:r.g},{id:11,kind:"percent",name:"Пока ты бежал, тебе догнал какой-то байкер и подбросил, -5% к дороге",icon:r.h},{id:12,kind:"health",name:"Ля какая вкусная и полезная морковочка, она добавила тебе +2 жизни",icon:r.k},{id:13,kind:"percent",name:"Черная кошка перебежала тебе дорогу, а ты суеверный, придется оббегать +10% к дороге",icon:r.l},{id:14,kind:"atack",name:"Вышло солнышко, зарядило тебя силой, +3к силе",icon:r.m},{id:15,kind:"health",name:"Тебя сбил истрибитель, упс... -1 жизнь",icon:r.u},{id:16,kind:"percent",name:"Ты встретил доброго Сергея, он подсказал тебе как сократить дорогу. -10% к дороге",icon:r.S},{id:17,kind:"health",name:"На тебя упал метеорит. -1 жизнь",icon:r.K},{id:18,kind:"atack",name:"Ммм.. пица! Скував ее ты стал сильнее!",icon:r.M},{id:19,kind:"atack",name:"Ты искупался в чернобыльской речке, и у тебя выросло еще 3 ноги, теперь ты быстрее бегаешь",icon:r.N}],u=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.a.getState().players.gameSchema.players,r=[],n.map((function(e,t){var n={};n.playerId=e.playerId,n.hp=e.health,n.icon=e.icon,n.name=e.name,n.gameHistory=e.gameHistory,n.gs=0,r.push(n)})),r=r.map((function(e){return e.gs+=1e3*e.hp,e.gameHistory.forEach((function(t){e.gs+=t.clicks>0?t.clicks/-10:-30})),e})),e.next=6,a.a.dispatch(Object(c.g)(r));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function i(e){o(c,r,a,i,u,"next",e)}function u(e){o(c,r,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),s=function(e,t){return Math.round(Math.random()*(e+t))},f=[r.l,r.n,r.A,r.R,r.T,r.q,r.r,r.s,r.v,r.y,r.J,r.L,r.d,r.e,r.i,r.j,r.p,r.t,r.x,r.z,r.B,r.C,r.D,r.E,r.F,r.G]},408:function(e,t){},409:function(e,t){},410:function(e,t){},448:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(404),o=n(111),i=n(406),u=n(445),s=n(112),f=n(403);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n,r,a,c,o){try{var i=e[c](o),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){b(c,r,a,o,i,"next",e)}function i(e){b(c,r,a,o,i,"throw",e)}o(void 0)}))}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=h(t).call(this,e),n=!a||"object"!==l(a)&&"function"!=typeof a?k(r):a,v(k(n),"role",m(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.round(5*Math.random()+1),e.next=3,n.rotateFunc(t);case 3:n.setState({side:t,rolled:!0},m(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.pickBafs(t,!0);case 2:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})))),v(k(n),"pickBafs",function(){var e=m(regeneratorRuntime.mark((function e(t,r){var a,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=[],i=0;i<6;i++)u=Math.round(7*Math.random()+1),a.push(c.a[u]);return e.next=4,a.forEach((function(e){var t=Math.round(1*Math.random()+1);e.type=t}));case 4:n.setState(d({},n.state,{bafs:a,rolledBaf:a[t-1]}),(function(){!Object(o.isEmpty)(n.props.players.gameSchema)&&r&&n.props.setBafToPlayer(n.props.players.gameSchema.lastPlayer,n.state.rolledBaf)}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),v(k(n),"rotateFunc",function(){var e=m(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=document.getElementsByClassName("cube")[0],a=null,r.style.transform="",e.t0=t,e.next=1===e.t0?6:2===e.t0?8:3===e.t0?10:4===e.t0?12:5===e.t0?14:6===e.t0?16:18;break;case 6:return a="rotate3d(250,79,1,180deg)",e.abrupt("break",19);case 8:return a="rotateX(".concat(-450,"deg)"),e.abrupt("break",19);case 10:return a="rotate3d(60,179,1,90deg)",e.abrupt("break",19);case 12:return a="rotateY(".concat(-450,"deg)"),e.abrupt("break",19);case 14:return a="rotate3d(200,30,1,90deg)",e.abrupt("break",19);case 16:return a="rotateX(".concat(1800,"deg)"),e.abrupt("break",19);case 18:return e.abrupt("break",19);case 19:n.setState(d({},n.state,{style:a}),(function(){r.style.transform=n.state.style}));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.state={side:null,style:0,bafs:[],rolled:!1,rolledBaf:null},n}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.pickBafs(2,!1)}},{key:"render",value:function(){var e=this,t=this.state,n=t.bafs,r=t.side,c=t.rolledBaf;return a.a.createElement("div",{className:"fortune-wheel"},this.state.rolled?a.a.createElement(u.a,{to:"/game"},a.a.createElement("button",{className:"btn _custom-width"},a.a.createElement("label",{className:"btn-bg"}),a.a.createElement("span",null,"GO back"))):a.a.createElement("button",{className:"btn _custom-width",onClick:function(){return e.role()}},a.a.createElement("label",{className:"btn-bg"}),a.a.createElement("span",null,"roll")),a.a.createElement("p",{className:"description"},n.length&&r&&c.name),a.a.createElement("div",{className:"cube"},n.map((function(e,t){return a.a.createElement("div",{key:t,className:"cube-side"},a.a.createElement(i.a,{icon:e.icon,size:"3x",color:1==e.type?"pink":"orange"}))}))))}}])&&y(n.prototype,r),s&&y(n,s),t}(r.Component);t.default=Object(s.b)((function(e){return{players:e.players}}),{setBafToPlayer:f.e})(O)}}]);
//# sourceMappingURL=6.index_bundle.js.map